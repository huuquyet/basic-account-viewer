(()=>{var e={48237:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>z});var r=n(15861),o=n(29439),a=n(89526),i=n(7132),l=n(15648),s=n(81133),c=n(39880),u=n(89329),d=n(35693),f=n(21712),h=n(93738),p=n(32365),y=n(88235),x=n(92623),v=n(74333),j=n(39233),g=n(95070),m=n(5931),b=n(78862),C=n(21528),w=n(2743),k=n(80292),_=[{name:"testnet",passphrase:C.Networks.TESTNET,serverUrl:"https://horizon-testnet.stellar.org"},{name:"public",passphrase:C.Networks.PUBLIC,serverUrl:"https://horizon.stellar.org"}],S=function(){var e=(0,r.default)((function*(){try{if(!(0,b.isConnected)())return{isError:!0,error:new Error("Freighter not available")};var e=yield(0,b.getPublicKey)();return{isError:!1,keypair:w.Keypair.fromPublicKey(e)}}catch(t){return{isError:!0,error:t}}}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,r.default)((function*(e,t){try{var n=yield e.loadAccount(t.publicKey()),r=n.balances.map((function(e){return"native"===e.asset_type?{balance:e.balance,assetCode:"XLM"}:"credit_alphanum4"===e.asset_type||"credit_alphanum12"===e.asset_type?{balance:e.balance,assetCode:null==e?void 0:e.asset_code,assetIssuer:null==e?void 0:e.asset_issuer}:"liquidity_pool_shares"===e.asset_type?{balance:e.balance,liquidity_pool_id:null==e?void 0:e.liquidity_pool_id}:void 0})),o=((yield e.transactions().forAccount(n.accountId()).order("asc").limit(1).call().then((function(e){return e.records.pop()})).then((function(e){return null==e?void 0:e.operations()})).then((function(e){return null==e?void 0:e.records})).catch(k.error))||[]).find((function(e){return"create_account"===e.type})),a=o?o.created_at:"-",i=o?o.source_account:"-";return{isError:!1,accountId:n.accountId(),createdAt:a,createdBy:i,balances:r}}catch(l){return{isError:!0,error:l}}}));return function(t,n){return e.apply(this,arguments)}}(),$=n(67557),P=n(80292);const A=function(){var e=(0,a.useState)(_[0]),t=(0,o.default)(e,2),n=t[0],r=t[1],i=(0,a.useState)(),l=(0,o.default)(i,2),c=l[0],u=l[1],d=(0,a.useState)(),f=(0,o.default)(d,2),h=f[0],v=f[1],g=(0,a.useState)(!1),C=(0,o.default)(g,2),k=C[0],A=C[1],T=(0,a.useState)(),L=(0,o.default)(T,2),B=L[0],D=L[1];return(0,a.useEffect)((function(){!function(e,t,n){t(e?new w.Server(e.serverUrl):void 0),n(void 0)}(n,u,D)}),[n]),(0,a.useEffect)((function(){c&&h?(A(!0),I(c,h).then((function(e){e.isError?D(void 0):D(e),A(!1)}))):D(void 0)}),[c,h,A]),(0,$.jsxs)(s.default,{style:q.container,children:[(0,$.jsxs)(s.default,{style:q.buttonRow,children:[(0,$.jsx)(s.default,{style:q.row,children:_.map((function(e){return(0,$.jsx)(p.default,{onPress:function(){return r(e)},color:e.name===n.name?"#08f":"gray",title:e.name},e.name)}))}),h?(0,$.jsx)(p.default,{color:"#841584",onPress:function(){v(void 0)},title:"Disconnect"}):(0,$.jsx)(p.default,{onPress:function(){S().then((function(e){P.log(e),e.isError||v(e.keypair)}))},title:"Connect wallet",disabled:!(0,b.isConnected)()})]}),!B||null!=B&&B.isError?(0,$.jsx)(s.default,{style:q.infoContainer,children:(0,b.isConnected)()?(0,$.jsx)(j.default,{children:k?"Loading...":h?"Couldn't find account information, check that you have correct network selected.":"Connect your wallet to show account information."}):(0,$.jsxs)(j.default,{children:["Freighter extension is not installed",(0,$.jsx)("br",{}),"Get it from"," ",(0,$.jsx)(y.default,{onPress:function(){return m.openURL("https://freighter.app/")},children:(0,$.jsx)(j.default,{style:q.link,children:"https://freighter.app/"})})]})}):(0,$.jsxs)(s.default,{style:q.container,children:[(0,$.jsxs)(s.default,{style:q.accountContainer,children:[(0,$.jsx)(j.default,{children:(0,$.jsx)("strong",{children:"Account"})}),(0,$.jsx)(E,{accountId:null==B?void 0:B.accountId,network:n}),(0,$.jsx)(j.default,{children:"Created by:"}),(0,$.jsx)(E,{accountId:null==B?void 0:B.createdBy,network:n}),(0,$.jsxs)(j.default,{children:["Created at:",(0,$.jsx)("br",{}),null==B?void 0:B.createdAt]})]}),(0,$.jsx)(j.default,{children:(0,$.jsx)("strong",{children:"Balances"})}),(0,$.jsx)(x.default,{style:q.column,contentContainerStyle:q.scrollContainer,children:null==B?void 0:B.balances.map((function(e,t){return(0,$.jsx)(s.default,{style:q.assetContainer,children:(0,$.jsx)(O,{asset:e,network:n})},`asset_${t}`)}))})]})]})};var E=function(e){var t=e.accountId,n=`https://stellar.expert/explorer/${e.network.name}/account/${t}`;return(0,$.jsxs)(s.default,{style:q.detailContainer,children:[(0,$.jsx)(y.default,{onPress:function(){return m.openURL(n)},children:(0,$.jsx)(j.default,{style:q.link,children:(0,$.jsx)("strong",{children:T(t)})})}),(0,$.jsx)(y.default,{onPress:function(){return g.setStringAsync(t)},children:(0,$.jsx)(h.default,{name:"copy",size:18})})]})},O=function(e){var t=e.asset,n=e.network;return(0,$.jsxs)(s.default,{style:q.detailContainer,children:[(0,$.jsxs)(s.default,{style:q.row,children:[(0,$.jsx)(s.default,{style:[q.avatarBackground,{backgroundColor:B()}],children:(0,$.jsx)(j.default,{style:q.assetAvatar,children:t.assetCode?t.assetCode.slice(0,3):"+"})}),t.liquidity_pool_id?(0,$.jsxs)(s.default,{style:q.assetText,children:[(0,$.jsx)(j.default,{children:(0,$.jsx)("strong",{children:`${L(t.balance)} pool shares`})}),(0,$.jsxs)(j.default,{children:["Liquidity pool id: ",null==t?void 0:t.liquidity_pool_id.slice(0,18),"..."]})]}):(0,$.jsxs)(s.default,{style:q.assetText,children:[(0,$.jsx)(j.default,{children:(0,$.jsx)("strong",{children:`${L(t.balance)} ${t.assetCode}`})}),(0,$.jsx)(j.default,{children:T(null==t?void 0:t.assetIssuer)})]})]}),(0,$.jsx)(y.default,{onPress:function(){return m.openURL(function(){var e=`https://stellar.expert/explorer/${n.name}/`,r=`liquidity-pool/${null==t?void 0:t.liquidity_pool_id}`,o=`asset/${null==t?void 0:t.assetCode}${t.assetIssuer?`-${t.assetIssuer}`:""}`;return`${e}${t.liquidity_pool_id?`${r}`:`${o}`}`}())},children:(0,$.jsx)(h.default,{name:"external-link-alt",size:18})})]})},T=function(e){return e?`${e.slice(0,12)}...${e.slice(-12)}`:void 0},L=function(e){return Number(e>0&&e<1?Math.round(e+"e8")+"e-8":Math.round(e+"e2")+"e-2")},B=function(){return"#000000".replace(/0/g,(function(){return(~~(16*Math.random())).toString(16)}))},q=v.default.create({container:{flex:1,padding:3,backgroundColor:"#fff"},row:{flexDirection:"row"},column:{flexDirection:"column"},link:{textDecorationLine:"underline"},buttonRow:{flexDirection:"row",justifyContent:"space-between"},scrollContainer:{paddingTop:5},accountContainer:{flexDirection:"column",borderBottomWidth:"thin",padding:5},assetContainer:{borderBottomWidth:1,borderColor:"gray",padding:10},detailContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},assetText:{flexDirection:"column",marginLeft:10},avatarBackground:{alignItems:"center",justifyContent:"center",width:42,height:42,borderRadius:42},assetAvatar:{textAlign:"center",backgroundColor:"none",fontSize:14,lineHeight:14},infoContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:10}});function D(){return(0,$.jsx)(s.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#fff"},children:(0,$.jsx)(j.default,{children:"Settings!"})})}var R=(0,f.default)();function M(){return(0,$.jsx)(d.default,{children:(0,$.jsxs)(R.Navigator,{initialRouteName:"Home",screenOptions:function(e){var t=e.route;return{tabBarIcon:function(e){var n,r=e.focused;return"Home"===t.name?n="home":"Settings"===t.name&&(n="cog"),(0,$.jsx)(h.default,{name:n,size:26,style:{marginBottom:-3},color:r?"tomato":"gray"})},tabBarActiveTintColor:"tomato",tabBarInactiveTintColor:"gray"}},children:[(0,$.jsx)(R.Screen,{name:"Home",component:A}),(0,$.jsx)(R.Screen,{name:"Settings",component:D})]})})}var U=n(80292);function z(e){var t=(0,a.useState)(!1),d=(0,o.default)(t,2),f=d[0],h=d[1];(0,a.useEffect)((function(){function e(){return(e=(0,r.default)((function*(){try{yield Promise.all([u.Asset.loadAsync([n(91287)])]),yield new Promise((function(e){return setTimeout(e,2e3)}))}catch(e){U.warn(e)}finally{h(!0)}}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var p=(0,a.useCallback)((0,r.default)((function*(){(f||e.skipLoadingScreen)&&(yield c.hideAsync())})),[f]);return f||e.skipLoadingScreen?(0,$.jsxs)(s.default,{style:{flex:1,backgroundColor:"#fff",width:"100%",maxWidth:"36rem",marginLeft:"auto",marginRight:"auto"},onLayout:p,children:["ios"===i.default.OS&&(0,$.jsx)(l.default,{barStyle:"default"}),(0,$.jsx)(M,{})]}):null}c.preventAutoHideAsync()},91287:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/freighter.9391c7b8cc1717f7ebb8.png"},24654:()=>{},47943:()=>{},46042:()=>{},71408:()=>{},23646:()=>{},55024:()=>{}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,(()=>{var e=[];n.O=(t,r,o,a)=>{if(!r){var i=1/0;for(u=0;u<e.length;u++){for(var[r,o,a]=e[u],l=!0,s=0;s<r.length;s++)(!1&a||i>=a)&&Object.keys(n.O).every((e=>n.O[e](r[s])))?r.splice(s--,1):(l=!1,a<i&&(i=a));if(l){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,o,a]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/basic-account-viewer/",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[i,l,s]=r,c=0;if(i.some((t=>0!==e[t]))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(s)var u=s(n)}for(t&&t(r);c<i.length;c++)a=i[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[354],(()=>n(79484)));r=n.O(r)})();
//# sourceMappingURL=main.3db0eb6a.js.map